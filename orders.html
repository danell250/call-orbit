<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CallOrbit â€” Orders</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><circle cx='32' cy='32' r='30' fill='%233b82f6'/></svg>">
<script src="https://www.paypal.com/sdk/js?client-id=AZj-lkjSMiruqhm64d7ZET-1K7Kv4YLo8IuJn_0ikbzNU3oR91hnmQN2l8uQXNyYYgOb0gqlv5aLM94N&currency=USD"></script>
<style>
body { font-family: 'Inter', sans-serif; background:#f9fafb; color:#1f2937; margin:0; padding:0; }
nav {display:flex;justify-content:space-between;align-items:center;padding:10px 20px;background:#fff;box-shadow:0 2px 10px rgba(0,0,0,0.05);}
nav a {margin-left:15px;text-decoration:none;color:#1f2937;font-weight:500;}
main{max-width:1120px;margin:20px auto;padding:0}
header.hero{margin:20px auto;padding:60px 20px;text-align:center;background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.1);}
header.hero h1{margin-bottom:1rem;font-size:2.5rem}
header.hero p{margin-bottom:2rem;font-size:1.25rem}
.forwarding{margin:20px 10px;background:#fff;padding:20px;border-radius:1rem;box-shadow:0 5px 20px rgba(0,0,0,0.05);display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;align-items:end}
.forwarding label{display:block;margin-bottom:0.5rem;font-weight:600}
.forwarding select,.forwarding input{width:100%;padding:0.75rem;margin-bottom:1rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem}
.cart-wrapper{position:fixed;top:0;right:-400px;width:350px;height:100%;background:#f9fafb;box-shadow:-2px 0 10px rgba(0,0,0,0.2);padding:20px;transition:right 0.3s;overflow-y:auto;z-index:1000;}
.cart-wrapper.active{right:0;}
.cart h2{margin-bottom:1rem;color:#1e3a8a;display:flex;justify-content:space-between;align-items:center}
.cart-close{cursor:pointer;color:red;font-weight:bold;font-size:1.2rem}
.cart-item{display:flex;justify-content:space-between;margin-bottom:10px;padding:10px;background:#fff;border-radius:0.5rem;box-shadow:0 2px 10px rgba(0,0,0,0.05)}
.remove-btn{background:none;border:none;color:red;font-weight:bold;cursor:pointer;margin-left:10px}
#cart-button{position:fixed;bottom:20px;right:20px;background:#3b82f6;color:#fff;padding:12px 20px;border:none;border-radius:999px;font-weight:700;cursor:pointer;z-index:1001;box-shadow:0 5px 15px rgba(0,0,0,0.2)}
</style>
</head>
<body>
<nav>
  <div><a href="/"><strong>CallOrbit</strong></a></div>
  <div>
   <a href="/">Home</a>
   <a href="/features">Features</a>
   <a href="/pricing">Pricing</a>
   <a href="/coverage">Coverage</a>
   <a href="/platform">Platform</a>
   <a href="/contact">Contact</a>
   <a href="/about">About</a>
  </div>
</nav>

<header class="hero">
  <h1>Your Orders</h1>
  <p>Review your cart and complete your purchase with PayPal.</p>
</header>

<main>
  <div class="forwarding">
    <div>
      <label for="country">Select Country</label>
      <select id="country"></select>
    </div>
    <div>
      <label for="number-type">Number Type</label>
      <select id="number-type">
        <option value="tollFree">Toll-Free</option>
        <option value="local">Local</option>
        <option value="national">National</option>
      </select>
    </div>
    <div id="area-container" style="display:none">
      <label for="area">Select Area</label>
      <select id="area"></select>
    </div>
    <div style="grid-column:1/-1">
      <label for="forward">Forwarding Number / Device</label>
      <input type="text" id="forward" placeholder="+27 10 500 1234 or SIP URI">
    </div>
  </div>
</main>

<div class="cart-wrapper" id="cart-wrapper">
  <div class="cart">
    <h2>Your Cart <span class="cart-close" id="cart-close">âœ•</span></h2>
    <div id="cart-items"></div>
    <div style="display:flex;justify-content:space-between;font-weight:700;margin-top:10px;">
      <span>Total:</span><span id="cart-total">$0.00</span>
    </div>
    <div id="paypal-button-container" style="margin-top:15px;"></div>
  </div>
</div>

<button id="cart-button">Cart ðŸ›’ (0 items - $0.00)</button>

<footer style="text-align:center;padding:2rem;background:#f3f4f6;margin-top:20px;">
  &copy; <span id="year"></span> CallOrbit. All rights reserved. 
  <br>
  <a href="/privacy-policy" style="margin:0 10px;color:#3b82f6;text-decoration:none;">Privacy Policy</a>
  <a href="/terms-conditions" style="margin:0 10px;color:#3b82f6;text-decoration:none;">Terms & Conditions</a>
  <a href="/refund-policy" style="margin:0 10px;color:#3b82f6;text-decoration:none;">Refund Policy</a>
</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

const countries=["US","GB","CA","AU","DE","FR","IN","ZA","BR","MX","JP","IT","ES","NL","CH","SE","SG","IE","NZ","NO","PT","BE","KR","TR","TH","PH","TW","PL","RO","HU"];
const countryNames={US:"United States",GB:"United Kingdom",CA:"Canada",AU:"Australia",DE:"Germany",FR:"France",IN:"India",ZA:"South Africa",BR:"Brazil",MX:"Mexico",JP:"Japan",IT:"Italy",ES:"Spain",NL:"Netherlands",CH:"Switzerland",SE:"Sweden",SG:"Singapore",IE:"Ireland",NZ:"New Zealand",NO:"Norway",PT:"Portugal",BE:"Belgium",KR:"South Korea",TR:"Turkey",TH:"Thailand",PH:"Philippines",TW:"Taiwan",PL:"Poland",RO:"Romania",HU:"Hungary"};
const localAreas={US:["New York","Los Angeles","Chicago","Houston","Miami"],GB:["London","Manchester","Birmingham"],CA:["Toronto","Vancouver","Montreal"],AU:["Sydney","Melbourne","Brisbane"],DE:["Berlin","Munich","Hamburg"],FR:["Paris","Lyon","Marseille"],IN:["Mumbai","Delhi","Bangalore"],ZA:["Johannesburg","Cape Town","Durban"],BR:["Sao Paulo","Rio de Janeiro","Brasilia"],MX:["Mexico City","Guadalajara","Monterrey"],JP:["Tokyo","Osaka","Nagoya"],IT:["Rome","Milan","Naples"],ES:["Madrid","Barcelona","Valencia"],NL:["Amsterdam","Rotterdam","The Hague"],CH:["Zurich","Geneva"],SE:["Stockholm","Gothenburg"],SG:["Singapore"],IE:["Dublin","Cork"],NZ:["Auckland","Wellington"],NO:["Oslo","Bergen"],PT:["Lisbon","Porto"],BE:["Brussels","Antwerp"],KR:["Seoul","Busan"],TR:["Istanbul","Ankara"],TH:["Bangkok","Chiang Mai"],PH:["Manila","Cebu"],TW:["Taipei","Kaohsiung"],PL:["Warsaw","Krakow"],RO:["Bucharest","Cluj"],HU:["Budapest","Debrecen"]};
const packages={Basic:100,Plus:500,Pro:1000,Max:2500};
const countryData={US:{tollFree:0.05,local:0.03,national:0.04},GB:{tollFree:0.06,local:0.04,national:0.05},CA:{tollFree:0.05,local:0.03,national:0.04},AU:{tollFree:0.06,local:0.04,national:0.05},DE:{tollFree:0.07,local:0.05,national:0.06},FR:{tollFree:0.07,local:0.05,national:0.06},IN:{tollFree:0.04,local:0.02,national:0.03},ZA:{tollFree:0.05,local:0.03,national:0.04},BR:{tollFree:0.06,local:0.04,national:0.05},MX:{tollFree:0.05,local:0.03,national:0.04},JP:{tollFree:0.08,local:0.06,national:0.07},IT:{tollFree:0.07,local:0.05,national:0.06},ES:{tollFree:0.07,local:0.05,national:0.06},NL:{tollFree:0.06,local:0.04,national:0.05},CH:{tollFree:0.08,local:0.06,national:0.07},SE:{tollFree:0.06,local:0.04,national:0.05},SG:{tollFree:0.07,local:0.05,national:0.06},IE:{tollFree:0.06,local:0.04,national:0.05},NZ:{tollFree:0.06,local:0.04,national:0.05},NO:{tollFree:0.07,local:0.05,national:0.06},PT:{tollFree:0.07,local:0.05,national:0.06},BE:{tollFree:0.07,local:0.05,national:0.06},KR:{tollFree:0.08,local:0.06,national:0.07},TR:{tollFree:0.06,local:0.04,national:0.05},TH:{tollFree:0.05,local:0.03,national:0.04},PH:{tollFree:0.04,local:0.02,national:0.03},TW:{tollFree:0.07,local:0.05,national:0.06},PL:{tollFree:0.06,local:0.04,national:0.05},RO:{tollFree:0.06,local:0.04,national:0.05},HU:{tollFree:0.06,local:0.04,national:0.05}};

const countrySelectEl=document.getElementById('country');
countries.forEach(c=>{
  const opt=document.createElement('option'); opt.value=c; opt.textContent=countryNames[c]; countrySelectEl.appendChild(opt);
});

const cartItemsEl=document.getElementById('cart-items');
const cartTotalEl=document.getElementById('cart-total');
const cartWrapper=document.getElementById('cart-wrapper');
const cartButton=document.getElementById('cart-button');
const cartClose=document.getElementById('cart-close');

// Load and normalize cart
let cart=JSON.parse(localStorage.getItem('callOrbitCart'))||[];
cart=cart.map(item=>({
    plan:item.plan||'Unknown Plan',
    country:item.country||'US',
    numberType:item.numberType||'tollFree',
    area:item.area||'',
    price:item.price?parseFloat(item.price):0,
    forward:item.forward||'',
    quantity:item.quantity||1,
    recurring:item.recurring!==undefined?item.recurring:true
}));
updateCart();

function updateCart(){
  cartItemsEl.innerHTML='';
  let total=0;
  cart.forEach((item,i)=>{
    total+=item.price*item.quantity;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<span>${item.plan} (${item.country} - ${item.numberType}${item.area?' - '+item.area:''}) x ${item.quantity}</span>
      <span>$${(item.price*item.quantity).toFixed(2)} <button class="remove-btn" data-index="${i}">x</button></span>`;
    cartItemsEl.appendChild(div);
  });
  document.querySelectorAll('.remove-btn').forEach(btn=>{
    btn.addEventListener('click',e=>{
      const idx=parseInt(e.target.dataset.index);
      cart.splice(idx,1);
      updateCart();
    });
  });
  cartTotalEl.textContent='$'+total.toFixed(2);
  cartButton.textContent=`Cart ðŸ›’ (${cart.length} items - $${total.toFixed(2)})`;
  localStorage.setItem('callOrbitCart',JSON.stringify(cart));
}

cartButton.addEventListener('click',()=>cartWrapper.classList.toggle('active'));
cartClose.addEventListener('click',()=>cartWrapper.classList.remove('active'));

paypal.Buttons({
    createOrder: function(data, actions) {
      const total=cart.reduce((sum,item)=>sum+item.price*item.quantity,0).toFixed(2);
      return actions.order.create({ purchase_units:[{ amount:{ value:total } }] });
    },
    onApprove: function(data, actions) {
      return actions.order.capture().then(details=>{
        alert('Transaction completed by '+details.payer.name.given_name);
        cart=[];
        updateCart();
      });
    }
}).render('#paypal-button-container');
</script>
</body>
</html>
