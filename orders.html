<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CallOrbit ‚Äî Orders</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <nav>
    <div><a href="/"><strong>CallOrbit</strong></a></div>
    <div>
      <a href="/">Home</a>
      <a href="/features">Features</a>
      <a href="/pricing">Pricing</a>
      <a href="/about">About</a>
      <a href="/contact">Contact</a>
      <a href="/coverage">Coverage</a>
      <a href="/platform">Platform</a>
    </div>
  </nav>

  <!-- Reduced white space -->
  <header class="hero orders-hero">
    <h1>Order Numbers</h1>
    <p>Select your country, forwarding number, and package.</p>
  </header>

  <section class="orders-section">
    <div class="order-form">
      <label for="country">Select Country</label>
      <select id="country">
        <option>United States</option>
        <option>South Africa</option>
        <option>United Kingdom</option>
        <!-- more countries -->
      </select>

      <label for="forward">Forwarding Number / Device</label>
      <input type="text" id="forward" placeholder="+27 10 500 1234 or SIP URI">
    </div>
  </section>

  <section class="plans-grid fade-in">
    <div class="plan">
      <h3>Basic</h3>
      <p>Fixed: $2.99/mo</p>
      <p>Mobile: $3.99/mo</p>
      <button onclick="addToCart('Basic')">Add to Cart</button>
    </div>
    <div class="plan">
      <h3>Plus</h3>
      <p>Fixed: $4.99/mo</p>
      <p>Mobile: $5.99/mo</p>
      <button onclick="addToCart('Plus')">Add to Cart</button>
    </div>
    <div class="plan">
      <h3>Pro</h3>
      <p>Fixed: $7.99/mo</p>
      <p>Mobile: $9.99/mo</p>
      <button onclick="addToCart('Pro')">Add to Cart</button>
    </div>
    <div class="plan">
      <h3>Max</h3>
      <p>Fixed: $14.99/mo</p>
      <p>Mobile: $17.99/mo</p>
      <button onclick="addToCart('Max')">Add to Cart</button>
    </div>
  </section>

  <section class="portal-note fade-in">
    <p class="important-note">
      ‚ö†Ô∏è You cannot purchase numbers alone. All numbers must be used with the CallOrbit portal.
    </p>
    <p>
      View portal pricing here: <a href="/pricing">Portal Pricing</a>
    </p>
  </section>

  <!-- Cart button bottom right -->
  <button id="cart-button" class="cart-button">üõí Cart</button>

  <!-- Cart sidebar -->
  <div id="cart-sidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Your Cart</h3>
      <button id="close-cart">‚úñ</button>
    </div>
    <ul id="cart-items"></ul>
    <div id="paypal-button-container"></div>
  </div>

  <footer>
    &copy; <span id="year"></span> CallOrbit. All rights reserved.
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const cartButton = document.getElementById('cart-button');
    const cartSidebar = document.getElementById('cart-sidebar');
    const closeCart = document.getElementById('close-cart');
    const cartItems = document.getElementById('cart-items');

    let cart = [];

    function addToCart(plan) {
      cart.push(plan);
      renderCart();
      openCart();
    }

    function renderCart() {
      cartItems.innerHTML = '';
      cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = item + ' ';
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'Remove';
        removeBtn.onclick = () => {
          cart.splice(index, 1);
          renderCart();
        };
        li.appendChild(removeBtn);
        cartItems.appendChild(li);
      });
    }

    function openCart() {
      cartSidebar.classList.add('open');
    }

    function closeCartSidebar() {
      cartSidebar.classList.remove('open');
    }

    cartButton.addEventListener('click', () => {
      cartSidebar.classList.toggle('open');
    });

    closeCart.addEventListener('click', closeCartSidebar);

    // PayPal integration
    if (window.paypal) {
      paypal.Buttons({
        createOrder: (data, actions) => {
          return actions.order.create({
            purchase_units: [{
              amount: { value: '10.00' } // Example total
            }]
          });
        },
        onApprove: (data, actions) => {
          return actions.order.capture().then(details => {
            alert('Transaction completed by ' + details.payer.name.given_name);
          });
        }
      }).render('#paypal-button-container');
    }
  </script>
</body>
</html>
