<!-- Cart -->
<div class="cart-wrapper" id="cart-wrapper">
  <div class="cart">
    <h2>Your Cart</h2>
    <div id="cart-items"></div>
    <div style="display:flex;justify-content:space-between;font-weight:700;margin-top:10px;">
      <span>Total:</span><span id="cart-total">$0.00</span>
    </div>
    <div style="display:flex;justify-content:space-between;margin-top:10px;">
      <button id="clear-cart" class="clear-cart-btn" style="background:#ef4444;color:#fff;padding:10px 20px;border:none;border-radius:999px;font-weight:700;cursor:pointer;transition:filter .2s;">Clear Cart</button>
      <button id="checkout" class="checkout-btn">Checkout with PayPal</button>
    </div>
  </div>
</div>

<style>
  /* Modernized cart items */
  .cart-item {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:10px;
    padding:10px;
    background:#fff;
    border-radius:0.75rem;
    box-shadow:0 3px 12px rgba(0,0,0,0.08);
    transition:transform .2s;
  }
  .cart-item:hover { transform: translateY(-2px); }
  .cart-item span { flex:1; }
  .remove-item {
    background:transparent;
    border:none;
    color:#ef4444;
    font-weight:700;
    font-size:1.2rem;
    cursor:pointer;
    margin-left:10px;
  }
</style>

<script>
  function renderCart(){
    cartItems.innerHTML='';
    if(cart.length>0){
      cartWrapper.classList.add('active');
    } else {
      cartWrapper.classList.remove('active');
    }

    let total = 0;
    cart.forEach((item,index)=>{
      total+=item.price;
      const div = document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`
        <span>${item.country} - ${item.plan} (${item.minutes} min)</span>
        <span>$${item.price.toFixed(2)}</span>
        <button class="remove-item" data-index="${index}">&times;</button>
      `;
      cartItems.appendChild(div);
    });
    cartTotalEl.textContent=`$${total.toFixed(2)}`;

    // Remove individual item
    document.querySelectorAll('.remove-item').forEach(btn=>{
      btn.addEventListener('click',e=>{
        const idx = e.target.getAttribute('data-index');
        cart.splice(idx,1);
        renderCart();
      });
    });
  }

  // Clear entire cart
  document.getElementById('clear-cart').addEventListener('click',()=>{
    cart=[];
    renderCart();
  });
</script>
