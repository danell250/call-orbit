<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CallOrbit â€” Buy Numbers & Plans</title>

<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
  <circle cx='32' cy='32' r='30' fill='%233b82f6'/>
</svg>">

<!-- Font Awesome 6 CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

<style>
body { font-family: 'Inter', sans-serif; background:#f9fafb; color:#1f2937; margin:0; padding:0; }

/* Navbar */
nav {
  display:flex; justify-content:space-between; align-items:center;
  padding:12px 30px; background:#fff; box-shadow:0 2px 10px rgba(0,0,0,0.05);
  position:sticky; top:0; z-index:200;
}
nav .logo a { font-weight:700; font-size:1.5rem; color:#1e3a8a; text-decoration:none; }
nav .menu a { margin:0 12px; text-decoration:none; color:#1f2937; font-weight:500; }
nav .menu a.active-page { color:#3b82f6; font-weight:700; }
.navbar-buy { background: none; color: #3b82f6; padding: 10px 20px; border-radius: 999px; font-weight: 700; margin-left: 10px; text-decoration:none; transition: all 0.2s; border: 2px solid #3b82f6; }
.navbar-buy:hover { background:#3b82f6; color:#fff; transform:scale(1.05); }

/* Login Button */
.login-btn { padding:10px 18px; border-radius:999px; font-weight:600; text-decoration:none; background:#3b82f6; color:#fff; transition:0.2s; }
.login-btn:hover { background:#2563eb; }

/* Hero Section */
header.hero {
  margin:20px auto; padding:60px 20px; text-align:center;
  color:#fff; border-radius:10px; box-shadow:0 5px 20px rgba(0,0,0,0.1);
  position:relative; overflow:hidden; background: linear-gradient(135deg,#3b82f6,#60a5fa);
}
header.hero h1{margin-bottom:1rem;font-size:2.5rem}
header.hero p{margin-bottom:2rem;font-size:1.25rem; max-width:600px;margin-left:auto;margin-right:auto;}

/* Main content */
main{max-width:1120px;margin:20px auto;padding:0}
.forwarding{ margin:20px 10px; background:#fff; padding:15px; border-radius:1rem; box-shadow:0 5px 20px rgba(0,0,0,0.05); display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; align-items:end }
.forwarding label{display:block;margin-bottom:0.25rem;font-weight:600;font-size:0.9rem}
.forwarding select,.forwarding input{ width:100%; padding:0.55rem; margin-bottom:0.75rem; border:1px solid #d1d5db; border-radius:0.5rem; font-size:0.95rem }

/* Plans Grid */
.plans-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:1.5rem; margin:20px 0; padding:0 10px; }
.plan{ background:#fff; padding:20px; border-radius:1rem; box-shadow:0 5px 20px rgba(0,0,0,0.05); text-align:center; transition:transform .2s; cursor:pointer }
.plan:hover{transform:translateY(-5px)}
.plan h3{color:#1e3a8a;margin-bottom:0.75rem}
.plan .price,.plan .minutes,.plan .overage{margin-bottom:0.5rem}
.buy-now{ background:#3b82f6; color:#fff; padding:10px 18px; border:none; border-radius:999px; font-weight:700; font-size:1rem; cursor:pointer; transition:filter .2s; margin-top:10px }
.buy-now:hover{filter:brightness(0.95)}

/* Cart */
#cart-icon { position: fixed; bottom: 20px; right: 20px; width: 60px; height: 60px; background: #3b82f6; color: #fff; font-size: 2rem; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; z-index: 1001; box-shadow: 0 5px 15px rgba(0,0,0,0.3); transition: transform 0.2s; }
#cart-icon:hover { transform: scale(1.1); }
#cart-count { position: absolute; top: 5px; right: 5px; background: red; color: white; font-size: 0.8rem; border-radius: 999px; padding: 2px 6px; }
#cart-popup { display: none; position: fixed; bottom: 90px; right: 20px; width: 400px; max-height: 500px; background: #fff; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); padding: 20px; z-index: 1002; overflow-y: auto; font-size: 0.9rem; }
#cart-popup h3 { margin-top:0; font-size:1.2rem; color:#1e3a8a; }
.cart-item { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; border-bottom:1px solid #e5e7eb; padding-bottom:5px; gap:5px; }
.cart-item div { flex:1; }
.cart-item input { width:50px; padding:2px 5px; border:1px solid #d1d5db; border-radius:4px; text-align:center; }
.cart-item button { background:#ef4444; border:none; color:#fff; padding:4px 8px; border-radius:6px; cursor:pointer; font-size:0.8rem; }
.cart-summary { margin-top:10px; font-weight:600; }
#paypal-button-container { margin-top:15px; }
.close-cart { margin-top:10px; background:#6b7280; color:#fff; border:none; border-radius:6px; padding:10px 15px; cursor:pointer; font-weight:600; width:100%; }
.close-cart:hover { filter:brightness(0.9) }

/* Footer */
footer { text-align:center; padding:2.5rem 20px; background:#f3f4f6; margin-top:60px; font-size:0.9rem; }
footer a { margin:0 10px; color:#3b82f6; text-decoration:none; }

</style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="logo"><a href="/">CallOrbit</a></div>
  <div class="menu">
    <a href="/" >Home</a>
    <a href="/features">Features</a>
    <a href="/pricing">Pricing</a>
    <a href="/coverage">Coverage</a>
    <a href="/platform">Platform</a>
    <a href="/orders" class="navbar-buy">Buy Numbers</a>
    <a href="/contact">Contact</a>
    <a href="/about">About</a>
  </div>
  <div class="actions" style="display:flex; align-items:center; gap:12px;">
    <a href="/login" class="login-btn">Login</a>
  </div>
</nav>

<!-- Hero Section -->
<header class="hero">
  <h1>Get Started with CallOrbit</h1>
  <p>Select your plan, country, number type, area (for local numbers), and forwarding number to start using your CallOrbit portal.</p>
</header>

<main>
  <div class="forwarding">
    <div>
      <label for="country">Select Country</label>
      <select id="country"></select>
    </div>
    <div>
      <label for="number-type">Number Type</label>
      <select id="number-type">
        <option value="tollFree">Toll-Free</option>
        <option value="local">Local</option>
        <option value="national">National</option>
      </select>
    </div>
    <div id="area-container" style="display:none">
      <label for="area">Select Area</label>
      <select id="area"></select>
    </div>
    <div style="grid-column:1/-1">
      <label for="forward">Forwarding Number / Device</label>
      <input type="text" id="forward" placeholder="+27 10 500 1234 or SIP URI">
    </div>
  </div>

  <div class="plans-grid" id="plans-container"></div>
</main>

<footer>
  &copy; <span id="year"></span> CallOrbit. All rights reserved.
  <br>
  <a href="/privacy-policy">Privacy Policy</a>
  <a href="/terms-conditions">Terms & Conditions</a>
  <a href="/refund-policy">Refund Policy</a>
</footer>

<div id="cart-icon" title="View Cart">ðŸ›’<span id="cart-count">0</span></div>
<div id="cart-popup">
  <h3>Your Cart</h3>
  <div id="cart-items"></div>
  <div class="cart-summary">
    <div>Subtotal: $<span id="cart-subtotal">0.00</span></div>
    <div>VAT (15%): $<span id="cart-vat">0.00</span></div>
    <div>Total: $<span id="cart-total">0.00</span></div>
  </div>
  <div id="paypal-button-container"></div>
  <button class="close-cart">Close</button>
</div>

<!-- PayPal SDK -->
<script src="https://www.paypal.com/sdk/js?client-id=AXxjiGRRXzL0lhWXhz9lUCYnIXg0Sfz-9-kDB7HbdwYPOrlspRzyS6TQWAlwRC2GlYSd4lze25jluDLj&currency=USD"></script>

<script>
// Footer year
document.getElementById('year').textContent = new Date().getFullYear();

// --- Countries / Packages Data ---
const countries=["US","GB","CA","AU","DE","FR","IN","ZA","BR","MX","JP","IT","ES","NL","CH","SE","SG","IE","NZ","NO","PT","BE","KR","TR","TH","PH","TW","PL","RO","HU"];
const countryNames={US:"United States",GB:"United Kingdom",CA:"Canada",AU:"Australia",DE:"Germany",FR:"France",IN:"India",ZA:"South Africa",BR:"Brazil",MX:"Mexico",JP:"Japan",IT:"Italy",ES:"Spain",NL:"Netherlands",CH:"Switzerland",SE:"Sweden",SG:"Singapore",IE:"Ireland",NZ:"New Zealand",NO:"Norway",PT:"Portugal",BE:"Belgium",KR:"South Korea",TR:"Turkey",TH:"Thailand",PH:"Philippines",TW:"Taiwan",PL:"Poland",RO:"Romania",HU:"Hungary"};
const localAreas={US:["New York","Los Angeles","Chicago","Houston","Miami"],GB:["London","Manchester","Birmingham"],CA:["Toronto","Vancouver","Montreal"],AU:["Sydney","Melbourne","Brisbane"],DE:["Berlin","Munich","Hamburg"],FR:["Paris","Lyon","Marseille"],IN:["Mumbai","Delhi","Bangalore"],ZA:["Johannesburg","Cape Town","Durban"],BR:["Sao Paulo","Rio de Janeiro","Brasilia"],MX:["Mexico City","Guadalajara","Monterrey"],JP:["Tokyo","Osaka","Nagoya"],IT:["Rome","Milan","Naples"],ES:["Madrid","Barcelona","Valencia"],NL:["Amsterdam","Rotterdam","The Hague"],CH:["Zurich","Geneva"],SE:["Stockholm","Gothenburg"],SG:["Singapore"],IE:["Dublin","Cork"],NZ:["Auckland","Wellington"],NO:["Oslo","Bergen"],PT:["Lisbon","Porto"],BE:["Brussels","Antwerp"],KR:["Seoul","Busan"],TR:["Istanbul","Ankara"],TH:["Bangkok","Chiang Mai"],PH:["Manila","Cebu"],TW:["Taipei","Kaohsiung"],PL:["Warsaw","Krakow"],RO:["Bucharest","Cluj"],HU:["Budapest","Debrecen"]};
const packages={Basic:100,Plus:500,Pro:1000,Max:2500};
const countryData={US:{tollFree:0.05,local:0.03,national:0.04},GB:{tollFree:0.06,local:0.04,national:0.05},CA:{tollFree:0.05,local:0.03,national:0.04},AU:{tollFree:0.06,local:0.04,national:0.05},DE:{tollFree:0.07,local:0.05,national:0.06},FR:{tollFree:0.07,local:0.05,national:0.06},IN:{tollFree:0.04,local:0.02,national:0.03},ZA:{tollFree:0.05,local:0.03,national:0.04},BR:{tollFree:0.06,local:0.04,national:0.05},MX:{tollFree:0.05,local:0.03,national:0.04},JP:{tollFree:0.08,local:0.06,national:0.07},IT:{tollFree:0.07,local:0.05,national:0.06},ES:{tollFree:0.07,local:0.05,national:0.06},NL:{tollFree:0.06,local:0.04,national:0.05},CH:{tollFree:0.08,local:0.06,national:0.07},SE:{tollFree:0.06,local:0.04,national:0.05},SG:{tollFree:0.07,local:0.05,national:0.06},IE:{tollFree:0.06,local:0.04,national:0.05},NZ:{tollFree:0.06,local:0.04,national:0.05},NO:{tollFree:0.07,local:0.05,national:0.06},PT:{tollFree:0.07,local:0.05,national:0.06},BE:{tollFree:0.07,local:0.05,national:0.06},KR:{tollFree:0.08,local:0.06,national:0.07},TR:{tollFree:0.06,local:0.04,national:0.05},TH:{tollFree:0.05,local:0.03,national:0.04},PH:{tollFree:0.04,local:0.02,national:0.03},TW:{tollFree:0.07,local:0.05,national:0.06},PL:{tollFree:0.06,local:0.04,national:0.05},RO:{tollFree:0.06,local:0.04,national:0.05},HU:{tollFree:0.06,local:0.04,national:0.05}};

const countrySelectEl=document.getElementById('country');
const plansContainerEl=document.getElementById('plans-container');
const cartIcon=document.getElementById('cart-icon');
const cartPopup=document.getElementById('cart-popup');
const closeCartBtn=document.querySelector('#cart-popup .close-cart');
const cartItemsEl=document.getElementById('cart-items');
const cartSubtotalEl=document.getElementById('cart-subtotal');
const cartVatEl=document.getElementById('cart-vat');
const cartTotalEl=document.getElementById('cart-total');
const paypalContainerEl=document.getElementById('paypal-button-container');
let cart=[];

// Populate countries
countries.forEach(c=>{
  const opt=document.createElement('option');
  opt.value=c;
  opt.textContent=countryNames[c];
  countrySelectEl.appendChild(opt);
});

// Generate Plans
function generatePlans(){
  const country=countrySelectEl.value;
  const numberType=document.getElementById('number-type').value;
  const areaContainer=document.getElementById('area-container');
  const areaSelect=document.getElementById('area');
  if(numberType==='local'){
    areaContainer.style.display='block';
    areaSelect.innerHTML='';
    localAreas[country].forEach(a=>{
      const opt=document.createElement('option');
      opt.value=a; opt.textContent=a;
      areaSelect.appendChild(opt);
    });
  } else areaContainer.style.display='none';

  plansContainerEl.innerHTML='';
  Object.keys(packages).forEach(pkg=>{
    const mins=packages[pkg];
    const rate=countryData[country][numberType];
    const price=+(rate*mins*1.25).toFixed(2);
    const div=document.createElement('div');
    div.className='plan';
    div.dataset.pkg=pkg;
    div.dataset.price=price;
    div.dataset.minutes=mins;
    div.dataset.rate=(rate*1.25).toFixed(3);
    div.dataset.numberType=numberType;
    div.dataset.country=country;
    div.innerHTML=`<h3>${pkg}</h3>
      <div class="price">$${price}</div>
      <div class="minutes">${mins} Minutes</div>
      <div class="overage">Overage: $${(rate*1.25).toFixed(3)}/min</div>
      <button class="buy-now">Add to Cart</button>`;
    plansContainerEl.appendChild(div);
  });
}

// Add to Cart
function addToCart(planEl){
  const forwarding=document.getElementById('forward').value;
  if(!forwarding){ alert("Enter forwarding number/device."); return; }
  const area=document.getElementById('area').value || '';
  const item={
    pkg: planEl.dataset.pkg,
    price: parseFloat(planEl.dataset.price),
    minutes: planEl.dataset.minutes,
    rate: planEl.dataset.rate,
    numberType: planEl.dataset.numberType,
    country: planEl.dataset.country,
    forwarding,
    area,
    qty:1
  };
  cart.push(item);
  updateCartUI();
  cartPopup.style.display='block';
}

// Update Cart UI
function updateCartUI(){
  cartItemsEl.innerHTML='';
  let subtotal=0;
  cart.forEach((item,i)=>{
    subtotal += item.price * item.qty;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`
      <div>${item.pkg} - ${item.country} (${item.numberType}) ${item.area ? '- '+item.area : ''}<br>Forward: ${item.forwarding}</div>
      <input type="number" min="1" value="${item.qty}" data-index="${i}">
      <div>$${(item.price*item.qty).toFixed(2)}</div>
      <button data-index="${i}">Remove</button>`;
    cartItemsEl.appendChild(div);
  });
  const vat=subtotal*0.15;
  const total=subtotal+vat;
  cartSubtotalEl.textContent=subtotal.toFixed(2);
  cartVatEl.textContent=vat.toFixed(2);
  cartTotalEl.textContent=total.toFixed(2);
  document.getElementById('cart-count').textContent=cart.length;

  // Remove & Quantity Change
  document.querySelectorAll('.cart-item button').forEach(btn=>{
    btn.addEventListener('click',e=>{
      const idx=btn.dataset.index; cart.splice(idx,1); updateCartUI();
    });
  });
  document.querySelectorAll('.cart-item input').forEach(inp=>{
    inp.addEventListener('change',e=>{
      const val=parseInt(inp.value) || 1; const idx=inp.dataset.index; cart[idx].qty=val; updateCartUI();
    });
  });

  renderPaypalButton();
}

// Render PayPal Button
function renderPaypalButton(){
  paypalContainerEl.innerHTML='';
  if(cart.length===0) return;
  const total=(cart.reduce((sum,i)=>sum+i.price*i.qty,0)*1.15).toFixed(2);
  paypal.Buttons({
    style:{ layout:'vertical', color:'blue', shape:'pill', label:'paypal' },
    createOrder:(data,actions)=>actions.order.create({ purchase_units:[{ amount:{ value:total } }] }),
    onApprove:(data,actions)=>actions.order.capture().then(details=>{
      alert('Transaction completed by '+details.payer.name.given_name+'!');
      cart=[];
      updateCartUI();
    }),
    onError:(err)=>{ console.error(err); alert('PayPal error, check console.'); }
  }).render('#paypal-button-container');
}

// Event Listeners
countrySelectEl.addEventListener('change', generatePlans);
document.getElementById('number-type').addEventListener('change', generatePlans);
document.getElementById('area').addEventListener('change', generatePlans);
plansContainerEl.addEventListener('click',e=>{
  if(e.target.closest('.buy-now')) addToCart(e.target.closest('.plan'));
});
cartIcon.addEventListener('click',()=>cartPopup.style.display='block');
closeCartBtn.addEventListener('click',()=>cartPopup.style.display='none');

// Initial
generatePlans();
</script>

</body>
</html>
