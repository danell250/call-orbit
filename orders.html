<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CallOrbit â€” Buy Numbers & Plans</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="data:image/svg+xml, <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'> <circle cx='32' cy='32' r='30' fill='%233b82f6'/> </svg>">
  <script src="https://www.paypal.com/sdk/js?client-id=AZj-lkjSMiruqhm64d7ZET-1K7Kv4YLo8IuJn_0ikbzNU3oR91hnmQN2l8uQXNyYYgOb0gqlv5aLM94N&currency=USD"></script>
  <style>
    main{max-width:1120px;margin:20px auto;padding:0}
    header.hero{margin:0 auto;padding:40px 20px;text-align:center;background:linear-gradient(135deg,#3b82f6,#60a5fa);color:#fff;border-radius:10px}
    header.hero h1{margin-bottom:1rem}
    header.hero p{margin-bottom:2rem}
    .plans-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin:20px 0;padding:0 10px}
    .plan{background:#fff;padding:20px;border-radius:1rem;box-shadow:0 5px 20px rgba(0,0,0,0.05);text-align:center;transition:transform .2s;cursor:pointer}
    .plan:hover{transform:translateY(-5px)}
    .plan h3{color:#1e3a8a;margin-bottom:1rem}
    .plan .price,.plan .minutes,.plan .overage{margin-bottom:0.5rem}
    .forwarding{margin:20px 10px;background:#fff;padding:20px;border-radius:1rem;box-shadow:0 5px 20px rgba(0,0,0,0.05);display:grid;grid-template-columns:1fr 1fr;gap:10px;align-items:end}
    .forwarding label{display:block;margin-bottom:0.5rem;font-weight:600}
    .forwarding select,.forwarding input{width:100%;padding:0.75rem;margin-bottom:1rem;border:1px solid #d1d5db;border-radius:0.5rem;font-size:1rem}
    .buy-now{background:#3b82f6;color:#fff;padding:12px 24px;border:none;border-radius:999px;font-weight:700;font-size:1rem;cursor:pointer;transition:filter .2s;margin-top:10px}
    .buy-now:hover{filter:brightness(0.95)}
    .cart-wrapper{position:fixed;top:0;right:-400px;width:350px;height:100%;background:#f9fafb;box-shadow:-2px 0 10px rgba(0,0,0,0.2);padding:20px;transition:right 0.3s;overflow-y:auto;z-index:1000;}
    .cart-wrapper.active{right:0;}
    .cart h2{margin-bottom:1rem;color:#1e3a8a}
    .cart-item{display:flex;justify-content:space-between;margin-bottom:10px;padding:10px;background:#fff;border-radius:0.5rem;box-shadow:0 2px 10px rgba(0,0,0,0.05)}
    .remove-btn{background:none;border:none;color:red;font-weight:bold;cursor:pointer;margin-left:10px}
    #cart-button{position:fixed;bottom:20px;right:20px;background:#3b82f6;color:#fff;padding:12px 20px;border:none;border-radius:999px;font-weight:700;cursor:pointer;z-index:1001;box-shadow:0 5px 15px rgba(0,0,0,0.2)}
  </style>
</head>
<body>
  <nav>
    <div><a href="/"><strong>CallOrbit</strong></a></div>
    <div>
      <a href="/">Home</a>
      <a href="/features">Features</a>
      <a href="/pricing">Pricing</a>
      <a href="/about">About</a>
      <a href="/contact">Contact</a>
      <a href="/coverage">Coverage</a>
      <a href="/platform">Platform</a>
    </div>
  </nav>

  <header class="hero fade-in">
    <h1>Get Started with CallOrbit</h1>
    <p>Select your plan, country, number type, and forwarding number to start using your CallOrbit portal.</p>
  </header>

  <main>
    <div class="forwarding">
      <div>
        <label for="country">Select Country</label>
        <select id="country">
          <option value="US">United States</option>
          <option value="ZA">South Africa</option>
          <option value="GB">United Kingdom</option>
          <option value="IN">India</option>
          <option value="AU">Australia</option>
          <option value="CA">Canada</option>
          <option value="DE">Germany</option>
          <option value="FR">France</option>
          <option value="JP">Japan</option>
          <option value="BR">Brazil</option>
          <option value="MX">Mexico</option>
          <option value="IT">Italy</option>
          <option value="ES">Spain</option>
          <option value="KR">South Korea</option>
          <option value="SG">Singapore</option>
          <option value="NL">Netherlands</option>
          <option value="CH">Switzerland</option>
          <option value="SE">Sweden</option>
          <option value="BE">Belgium</option>
          <option value="GR">Greece</option>
          <option value="PT">Portugal</option>
          <option value="IE">Ireland</option>
          <option value="IL">Israel</option>
          <option value="PL">Poland</option>
          <option value="RO">Romania</option>
          <option value="HU">Hungary</option>
          <option value="SK">Slovakia</option>
          <option value="CZ">Czech Republic</option>
          <option value="EE">Estonia</option>
          <option value="LV">Latvia</option>
          <option value="LT">Lithuania</option>
          <option value="LU">Luxembourg</option>
          <option value="MO">Macau</option>
          <option value="MY">Malaysia</option>
          <option value="MT">Malta</option>
          <option value="MC">Monaco</option>
          <option value="AN">Netherlands Antilles</option>
          <option value="NZ">New Zealand</option>
          <option value="NO">Norway</option>
          <option value="PA">Panama</option>
          <option value="PE">Peru</option>
          <option value="PH">Philippines</option>
          <option value="TW">Taiwan</option>
          <option value="TH">Thailand</option>
          <option value="TT">Trinidad & Tobago</option>
          <option value="TR">Turkey</option>
          <option value="UY">Uruguay</option>
          <option value="VE">Venezuela</option>
          <option value="VN">Vietnam</option>
        </select>
      </div>
      <div>
        <label for="number-type">Number Type</label>
        <select id="number-type">
          <option value="tollFree">Toll-Free</option>
          <option value="national">National</option>
          <option value="did">DID</option>
        </select>
      </div>
      <div style="grid-column:1/-1">
        <label for="forward">Forwarding Number / Device</label>
        <input type="text" id="forward" placeholder="+27 10 500 1234 or SIP URI">
      </div>
    </div>

    <div class="plans-grid" id="plans-container"></div>

    <div style="text-align:center;margin-top:30px;">
      <h2>Important</h2>
      <p style="color:red;font-weight:bold;">You cannot purchase numbers alone. All numbers must be used with the CallOrbit portal.</p>
      <div style="margin-top:15px;">
        <a href="/pricing" class="buy-now">New Customers â€” Get Portal + Number</a>
      </div>
      <div style="margin-top:10px;">
        <button class="buy-now" style="background:#10b981;">Existing Customers â€” Add Numbers Only</button>
      </div>
    </div>
  </main>

  <div class="cart-wrapper" id="cart-wrapper">
    <div class="cart">
      <h2>Your Cart</h2>
      <div id="cart-items"></div>
      <div style="display:flex;justify-content:space-between;font-weight:700;margin-top:10px;">
        <span>Total:</span><span id="cart-total">$0.00</span>
      </div>
      <div id="paypal-button-container" style="margin-top:15px;"></div>
    </div>
  </div>

  <button id="cart-button">Cart ðŸ›’ (0 items - $0.00)</button>

  <footer style="text-align:center;padding:2rem;background:#f3f4f6;margin-top:20px;">
    &copy; <span id="year"></span> CallOrbit. All rights reserved.
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const tollFreeRates = {
      US: 0.0706, ZA: 0.4843, GB: 0.1167, IN: 0.3078,
      AU: 0.0706, CA: 0.0706, DE: 0.1032, FR: 0.1427,
      JP: 0.1255, BR: 0.2098, MX: 0.2503, IT: 0.0680,
      ES: 0.2167, KR: 0.3275, SG: 0.0533, NL: 0.1100,
      CH: 0.0667, SE: 0.2085, BE: 0.1475, GR: 0.1170,
      PT: 0.1552, IE: 0.0708, IL: 0.1058, PL: 0.0673,
      RO: 0.2037, HU: 0.1032, SK: 0.1433, CZ: 0.2567,
      EE: 0.0617, LV: 0.2847, LT: 1.0108, LU: 0.0708,
      MO: 0.1804, MY: 0.1250, MT: 0.0917, MC: 0.0961,
      AN: 0.3960, NZ: 0.0533, NO: 0.1902, PA: 0.1216,
      PE: 0.4059, PH: 0.3992, TW: 0.2294, TH: 0.2294,
      TT: 0.1333, TR: 0.2286, UY: 0.1042, VE: 0.3275, VN: 0.4647
    };

    const packages = { Basic:100, Plus:500, Pro:1000, Max:2500 };
    const profitMargin = 1.2;

    const countryData = {};
    Object.keys(tollFreeRates).forEach(code => {
      const base = tollFreeRates[code];
      countryData[code] = {
        tollFree: {},
        national: { Basic:{price:18,minutes:100,overage:0.35}, Plus:{price:28,minutes:200,overage:0.33}, Pro:{price:45,minutes:300,overage:0.31}, Max:{price:75,minutes:500,overage:0.29} },
        did: { Basic:{price:15,minutes:90,overage:0.36}, Plus:{price:25,minutes:150,overage:0.34}, Pro:{price:40,minutes:250,overage:0.32}, Max:{price:70,minutes:400,overage:0.30} }
      };
      Object.keys(packages).forEach(pkg => {
        const mins = packages[pkg];
        countryData[code].tollFree[pkg] = {
          minutes: mins,
          price: +(base*mins*profitMargin).toFixed(2),
          overage: +(base*profitMargin).toFixed(3)
        };
      });
    });

    const plansContainer = document.getElementById('plans-container');
    const cartButton = document.getElementById('cart-button');
    const cartWrapper = document.getElementById('cart-wrapper');
    const cartItemsEl = document.getElementById('cart-items');
    const cartTotalEl = document.getElementById('cart-total');
    let cart = [];

    function renderPlans() {
      plansContainer.innerHTML = '';
      const country = document.getElementById('country').value || 'US';
      const numberType = document.getElementById('number-type').value || 'tollFree';
      const plans = countryData[country][numberType];
      Object.keys(plans).forEach(name => {
        const plan = plans[name];
        const div = document.createElement('div');
        div.className = 'plan';
        div.innerHTML = `
          <h3>${name}</h3>
          <div class="price">$${plan.price.toFixed(2)}</div>
          <div class="minutes">${plan.minutes} Minutes</div>
          <div class="overage">Overage: $${plan.overage.toFixed(3)}/min</div>
          <button class="buy-now">Buy Now</button>
        `;
        div.querySelector('button').addEventListener('click', () => {
          const forward = document.getElementById('forward').value || '';
          cart.push({ plan: name, country, numberType, price: plan.price, forward });
          updateCart();
        });
        plansContainer.appendChild(div);
      });
    }

    function updateCart() {
      cartItemsEl.innerHTML = '';
      let total = 0;
      cart.forEach((item,i)=>{
        total += item.price;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `<span>${item.plan} (${item.country} - ${item.numberType})</span>
                         <span>$${item.price.toFixed(2)} <button class="remove-btn" data-index="${i}">x</button></span>`;
        cartItemsEl.appendChild(div);
      });
      document.querySelectorAll('.remove-btn').forEach(btn => {
        btn.addEventListener('click', e => {
          cart.splice(e.target.dataset.index,1);
          updateCart();
        });
      });
      cartTotalEl.textContent = `$${total.toFixed(2)}`;
      cartButton.textContent = `Cart ðŸ›’ (${cart.length} items - $${total.toFixed(2)})`;
    }

    cartButton.addEventListener('click', () => cartWrapper.classList.toggle('active'));
    document.getElementById('country').addEventListener('change', renderPlans);
    document.getElementById('number-type').addEventListener('change', renderPlans);

    renderPlans();

    paypal.Buttons({
      createOrder: (data, actions) => {
        const total = cart.reduce((sum, p) => sum + p.price, 0);
        return actions.order.create({ purchase_units:[{ amount:{ value:total.toFixed(2) } }] });
      },
      onApprove: (data, actions) => {
        return actions.order.capture().then(details => {
          alert('Transaction completed by ' + details.payer.name.given_name);
          cart = [];
          updateCart();
        });
      }
    }).render('#paypal-button-container');
  </script>
</body>
</html>
