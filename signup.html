<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CallOrbit — Sign Up</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'>
  <circle cx='32' cy='32' r='30' fill='%233b82f6'/>
</svg>">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="logo">
    <a href="/">CallOrbit<span style="font-size:0.6rem; vertical-align:super;">©</span></a>
  </div>
 <div class="menu">
  <a href="/" >Overview</a>
  <a href="/solutions.html">Solutions</a>
  <a href="/global-reach.html">Global Reach</a>
  <a href="/your-orbit.html">Your Orbit</a>
  <a href="/get-numbers.html" class="navbar-buy">Get Numbers</a>
  <a href="/reach-us.html">Reach Us</a>
  <a href="/company.html">Company</a>
</div>
 <a href="/login.html" id="login-link" class="px-5 py-2 bg-yellow-400 text-gray-900 font-semibold rounded-full hover:bg-yellow-300 transition duration-300 shadow-lg">
    Login
</a>
</nav>

<!-- Signup Form Section -->
<section class="fade-in" style="max-width:450px;margin:50px auto;padding:40px;background:#fff;border-radius:15px;box-shadow:0 8px 25px rgba(0,0,0,0.1);">
  <h1 style="text-align:center;color:#1e3a8a;font-size:2rem;margin-bottom:25px;">Create Your CallOrbit Account</h1>
  <form id="signupForm">
    <div style="margin-bottom:15px;">
      <label>Email*</label>
      <input type="email" name="email" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
    </div>
    <div style="margin-bottom:15px;">
      <label>First Name*</label>
      <input type="text" name="firstName" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
    </div>
    <div style="margin-bottom:15px;">
      <label>Last Name*</label>
      <input type="text" name="lastName" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
    </div>
    <div style="margin-bottom:15px;">
      <label>Company Name*</label>
      <input type="text" name="companyName" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
    </div>
    <div style="margin-bottom:15px;">
      <label>Phone Number*</label>
      <input type="tel" name="phoneNumber" required value="+27" style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
    </div>
    <div style="margin-bottom:25px;">
      <label>Plan*</label>
      <select name="plan" required style="width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;">
        <option value="Basic">Basic</option>
        <option value="Pro">Pro</option>
        <option value="Enterprise" selected>Enterprise</option>
      </select>
    </div>
    <button type="submit" style="width:100%;padding:14px;background:#3b82f6;color:#fff;font-weight:700;border-radius:999px;cursor:pointer;">Sign Up</button>
  </form>
  <p id="message" style="margin-top:20px;text-align:center;font-weight:600;color:#16a34a;"></p>
</section>

<script>
const form = document.getElementById('signupForm');
const messageEl = document.getElementById('message');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  const formData = Object.fromEntries(new FormData(form));
  messageEl.style.color = "#2563eb";
  messageEl.textContent = "Submitting your details...";

  try {
    const res = await fetch('/api/signup', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(formData)
    });
    const data = await res.json();

    if (data.success) {
      messageEl.style.color = "#16a34a";
      messageEl.innerHTML = `
        ✅ Signup successful! <br>
        Your details have been sent for admin verification. <br>
        You will receive an email once your account is approved.
      `;
      form.reset();
    } else {
      messageEl.style.color = "#dc2626";
      messageEl.textContent = "❌ Signup failed: " + data.error;
    }
  } catch (err) {
    console.error(err);
    messageEl.style.color = "#dc2626";
    messageEl.textContent = "❌ Signup failed: " + err.message;
  }
});
</script>

</body>
</html>
